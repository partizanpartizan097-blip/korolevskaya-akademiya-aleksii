<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∞—è –ê–∫–∞–¥–µ–º–∏—è PRO</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,sans-serif;}

body{
background:linear-gradient(#dff1ff,#ffe8cc);
height:100vh;
overflow:hidden;
}

/* HEADER */

header{
position:fixed;
top:0;
left:0;
right:0;
height:70px;
background:white;
display:flex;
justify-content:space-between;
align-items:center;
padding:0 30px;
box-shadow:0 4px 15px rgba(0,0,0,.1);
z-index:10;
}

.logo{font-weight:700;font-size:18px;}

.stats{font-size:14px}

/* MAIN LAYOUT */

#app{
position:absolute;
top:70px;
bottom:0;
left:0;
right:0;
display:flex;
}

/* SIDEBAR */

.sidebar{
width:260px;
background:white;
padding:20px;
overflow:auto;
box-shadow:4px 0 15px rgba(0,0,0,.05);
}

.sidebar h3{
margin-bottom:15px;
}

.nav-item{
padding:10px;
border-radius:10px;
cursor:pointer;
margin-bottom:8px;
}

.nav-item:hover{
background:#f0f0f0;
}

/* CONTENT */

.content{
flex:1;
padding:40px;
overflow:auto;
animation:fade .3s ease;
}

@keyframes fade{
from{opacity:0;transform:translateY(10px)}
to{opacity:1;transform:translateY(0)}
}

/* ROOM BACKGROUND */

.room-bg{
position:absolute;
bottom:0;
right:0;
width:400px;
height:250px;
background:#fff3e0;
border-top-left-radius:40px;
box-shadow:-10px -10px 40px rgba(0,0,0,.05);
}

/* FLYING CAR */

.car{
position:absolute;
top:120px;
left:-200px;
width:140px;
animation:fly 18s linear infinite;
}

@keyframes fly{
0%{left:-200px}
100%{left:110%}
}

/* LESSON */

.lesson-box{
background:white;
padding:30px;
border-radius:20px;
box-shadow:0 10px 30px rgba(0,0,0,.08);
max-width:700px;
}

input,select{
width:100%;
padding:10px;
margin-top:10px;
border-radius:10px;
border:1px solid #ccc;
}

button{
margin-top:15px;
padding:8px 18px;
border:none;
border-radius:15px;
background:linear-gradient(45deg,#ffd700,#ffb700);
cursor:pointer;
}

.success{color:green;margin-top:10px;}
.error{color:#c00;margin-top:10px;}

.progress{
height:8px;
background:#eee;
border-radius:10px;
margin-top:8px;
overflow:hidden;
}
.bar{
height:100%;
background:gold;
width:0%;
transition:.3s;
}
</style>
</head>
<body>

<header>
<div class="logo">üëë –ö–æ—Ä–æ–ª–µ–≤—Å–∫–∞—è –ê–∫–∞–¥–µ–º–∏—è</div>
<div class="stats">
XP: <span id="xp">0</span> |
–£—Ä–æ–≤–µ–Ω—å: <span id="level">1</span>
<div class="progress"><div class="bar" id="xpBar"></div></div>
</div>
</header>

<div id="app">

<div class="sidebar">
<h3>–ü—Ä–µ–¥–º–µ—Ç—ã</h3>
<div id="subjectList"></div>
</div>

<div class="content" id="content"></div>

</div>

<div class="room-bg"></div>

<svg class="car" viewBox="0 0 200 80">
<rect x="20" y="30" width="120" height="40" rx="20" fill="#ff4d4d"/>
<circle cx="50" cy="75" r="12" fill="black"/>
<circle cx="110" cy="75" r="12" fill="black"/>
<rect x="60" y="20" width="60" height="20" rx="10" fill="#fff"/>
</svg>

<script>

/* ================= STATE ================= */

const state={
xp:localStorage.getItem("xp_pro")?parseInt(localStorage.getItem("xp_pro")):0,
level:1,
currentSubject:null,
currentModule:null,
currentLesson:null
};

state.level=Math.floor(state.xp/200)+1;

/* ================= COURSE ================= */

const course={
russian:{
title:"–†—É—Å—Å–∫–∏–π —è–∑—ã–∫",
modules:{
m1:{
title:"–ß–∞—Å—Ç–∏ —Ä–µ—á–∏",
lessons:[
{
title:"–°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ",
content:"–ò–º—è —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∫—Ç–æ? —á—Ç–æ?",
task:{type:"input",question:"–°—Ç–æ–ª ‚Äî —ç—Ç–æ –∫—Ç–æ –∏–ª–∏ —á—Ç–æ?",answer:"—á—Ç–æ"}
},
{
title:"–ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ",
content:"–ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –∫–∞–∫–æ–π?",
task:{type:"choice",question:"–ö—Ä–∞—Å–∏–≤—ã–π ‚Äî —ç—Ç–æ:",options:["–≥–ª–∞–≥–æ–ª","–ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ","—Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ"],answer:"–ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ"}
}
]
}
}
},
math:{
title:"–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
modules:{
m1:{
title:"–ó–∞–¥–∞—á–∏ –Ω–∞ –¥–≤–∏–∂–µ–Ω–∏–µ",
lessons:[
{
title:"–õ–µ—Ç–∞—é—â–∞—è –º–∞—à–∏–Ω–∞",
content:"–ú–∞—à–∏–Ω–∞ –ª–µ—Ç–∏—Ç 90 –∫–º/—á 2 —á–∞—Å–∞.",
task:{type:"input",question:"–°–∫–æ–ª—å–∫–æ –∫–º –æ–Ω–∞ –ø—Ä–æ–ª–µ—Ç–∏—Ç?",answer:"180"}
}
]
}
}
},
english:{
title:"–ê–Ω–≥–ª–∏–π—Å–∫–∏–π",
modules:{
m1:{
title:"–°–µ–º—å—è",
lessons:[
{
title:"Mother",
content:"Mother ‚Äî –º–∞–º–∞.",
task:{type:"input",question:"–ö–∞–∫ –ø–æ-–∞–Ω–≥–ª–∏–π—Å–∫–∏ '–ø–∞–ø–∞'?",answer:"father"}
}
]
}
}
},
emotion:{
title:"–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç",
modules:{
m1:{
title:"–ü–æ–¥–¥–µ—Ä–∂–∫–∞",
lessons:[
{
title:"–ï—Å–ª–∏ –¥—Ä—É–≥ –≥—Ä—É—Å—Ç–∏—Ç",
content:"–í–∞–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –±–ª–∏–∑–∫–∏—Ö.",
task:{type:"input",question:"–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –ò–≤–∞–Ω –≥—Ä—É—Å—Ç–∏—Ç?",answer:"–ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å"}
}
]
}
}
},
digital:{
title:"–¶–∏—Ñ—Ä–æ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
modules:{
m1:{
title:"–ü–∞—Ä–æ–ª–∏",
lessons:[
{
title:"–ù–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å",
content:"–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ª–æ–∂–Ω—ã–º.",
task:{type:"choice",question:"–ö–∞–∫–æ–π –ø–∞—Ä–æ–ª—å –Ω–∞–¥–µ–∂–Ω–µ–µ?",options:["12345","qwerty","A$k9L2!"],answer:"A$k9L2!"}
}
]
}
}
}
};

/* ================= INIT ================= */

function updateStats(){
document.getElementById("xp").innerText=state.xp;
document.getElementById("level").innerText=state.level;
document.getElementById("xpBar").style.width=(state.xp%200)/2+"%";
localStorage.setItem("xp_pro",state.xp);
}

function renderSubjects(){
const list=document.getElementById("subjectList");
list.innerHTML="";
for(let key in course){
let div=document.createElement("div");
div.className="nav-item";
div.innerText=course[key].title;
div.onclick=()=>renderModules(key);
list.appendChild(div);
}
}

function renderModules(subjectKey){
state.currentSubject=subjectKey;
const content=document.getElementById("content");
content.innerHTML="<h2>"+course[subjectKey].title+"</h2><br>";

for(let m in course[subjectKey].modules){
let btn=document.createElement("button");
btn.innerText=course[subjectKey].modules[m].title;
btn.onclick=()=>renderLesson(subjectKey,m,0);
content.appendChild(btn);
}
}

function renderLesson(s,m,i){
state.currentLesson=i;
const lesson=course[s].modules[m].lessons[i];
const content=document.getElementById("content");

content.innerHTML=`
<div class="lesson-box">
<h3>${lesson.title}</h3>
<p>${lesson.content}</p>
<p><b>${lesson.task.question}</b></p>
<div id="taskArea"></div>
<button onclick="checkAnswer('${s}','${m}',${i})">–û—Ç–≤–µ—Ç–∏—Ç—å</button>
<div id="feedback"></div>
</div>
`;

let area=document.getElementById("taskArea");

if(lesson.task.type==="input"){
area.innerHTML="<input id='answer'>";
}

if(lesson.task.type==="choice"){
let select=document.createElement("select");
select.id="answer";
lesson.task.options.forEach(o=>{
let opt=document.createElement("option");
opt.value=o;
opt.innerText=o;
select.appendChild(opt);
});
area.appendChild(select);
}
}

function checkAnswer(s,m,i){
let lesson=course[s].modules[m].lessons[i];
let ans=document.getElementById("answer").value.toLowerCase().trim();
let fb=document.getElementById("feedback");

if(ans===lesson.task.answer.toLowerCase()){
state.xp+=25;
state.level=Math.floor(state.xp/200)+1;
fb.innerHTML="<div class='success'>–ü—Ä–∞–≤–∏–ª—å–Ω–æ! +25 XP üëë</div>";
updateStats();
}else{
fb.innerHTML="<div class='error'>–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë.</div>";
}
}

renderSubjects();
updateStats();

</script>

</body>
</html>
